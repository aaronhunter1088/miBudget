<!DOCTYPE>
<html>
	<head>
		<meta charset="ISO-8859-1">
		<title>Sign Up</title>
		<link href="images/wallet.ico" rel="icon" type="image/x-icon">
		<style>
			<!-- NEEDED -->
			body {
				display: block;
				margin: 8px;
			}
			.cursor {
		    	cursor:pointer;
		    }
		    ::placeholder {
		   		color: black;
		   		font-weight: bold;
		   		text-align: center;
		    }   
		</style>
	</head>
	<body bgcolor="#1E90FF">
		
		<form action="register" id="Register" method="post" name="Register" onsubmit="return validateFields()">
			<div class="container" style="text-align: center; display: block; justify-content: space-between; width: 15%">
				<h1>Sign Up</h1>
				<input name="Validated" type="hidden" value="false"> <input name="btnSelected" type="hidden" value="Cancel"> <input name="Firstname" placeholder="Enter first name" required="required" tabindex="1" type="text"><br>
				<hr>
				<input name="Lastname" placeholder="Enter last name" tabindex="2" type="text"><br>
				<hr>
				<input name="Cellphone" placeholder="Enter cellphone" tabindex="3" type="text"><br>
				<hr>
				<input name="Email" placeholder="Enter email" tabindex="4" type="text"> <label id="emailLabel"><b><i>This will be used as a backup!</i><b></b></b> <b><br></b></label>
				<hr>
				<b><input name="Password" placeholder="Enter password" tabindex="5" type="password"><br></b>
				<hr>
				<b><input name="Password-repeat" placeholder="Repeat password" tabindex="6" type="password"><br></b>
				<hr>
				<b><label><input checked="checked" name="remember" style="margin-bottom:15px" type="checkbox"> Remember me</label></b>
				<p style="text-align: left;">
					<b>By creating an account, you agree to our <a href="#" style="color:darkblue" title="TODO: Create a page showing Terms & Conditions!">Terms & Conditions</a>.</b>
				</p>
				<div>
					<b><input class="button cursor" onclick="window.location.replace('index.html')" type="button" value="Cancel"> <button class="cursor" tabindex="6" type="submit" value="SignUp"><b>Sign Up</b></button></b>
				</div>
			</div>
		</form>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.2.3/jquery.min.js">
		</script> 
		<script>
		$(function() {
		   
		});
		function validateFields() {
		   alert("This JavaScript runs before submitting the page.");
		   /*
		   let value = prompt("Enter true or false","");
		   if (value.toLowerCase() == "true") {
		       alert("Submitting the form...");
		       return true;
		   } else {
		       alert("Something is wrong. Please check your fields.");
		       return false;
		   } */
		   let validate = false;
		   let count = 0;
		   
		   // Check First Name
		   let firstName = $('#Register') // get the form
		   .find('input[name=Firstname]') // locate the input element 
		   .val(); // get its value
		   if (firstName === "") {
		       alert("First Name cannot be blank.");
		       return validate;
		   } else {
		       count++; // 1
		   }
		   
		   // Check Last Name
		   let lastName = $('#Register') 
		   .find('input[name=Lastname]') 
		   .val();
		   if (lastName === "") {
		       alert("Last Name cannot be blank.");
		       return validate;
		   } else {
		       count++; // 2
		   }
		   
		   // Check cellphone
		   let cellphone = $('#Register')
		   .find('input[name=Cellphone]')
		   .val();
		   if (cellphone === "") {
		       alert("Cellphone cannot be blank.");
		       return validate;
		   }
		   else if (cellphone.length != 10) {
		       alert("Invalid cellphone format. Please provide 10 digits.");
		       return validate;
		   }
		   else if (isNaN(cellphone)) {
		       alert("Invalid cellphone format. Cellphones cannot include letters.");
		       return validate;
		   } else {
		       count++; // 3
		   }
		   
		   // Check email
		   let email = $('#Register') 
		   .find('input[name=Email]') 
		   .val();
		   if (email === "") {
		       alert("Email cannot be blank.");
		       return validate;
		   }
		   else if (email.indexOf('@') <= -1) {
		       alert("Invalid email format. You must include the \'@\' character.");
		       return validate;
		   }
		   else if (email.indexOf('.') <= -1) {
		       alert("Invalid email format. You must have a \'.\' after the domain.");
		       return validate;
		   } else {
		       count++; // 4
		   }
		   
		   // Check if password-repeat is the same as password
		   let password = $('#Register')
		   .find('input[name=Password]')
		   .val();
		   let passwordRepeat = $('#Register')
		   .find('input[name=Password-repeat]')
		   .val();
		   if (password !== passwordRepeat) {
		       alert("Repeated password does not match Password!");
		       return validate;
		   } else {
		       count++; // 5
		   }
		   
		   // Check if all fields have been validated
		   if (count == 5) {
		       validate = true;
		       $('#Register')
		       .find('input[name=Validated]')
		       .val("true");
		   }
		   
		   return validate;
		};
		</script>
	</body>
</html>